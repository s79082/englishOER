<html>
    <head>

        <script src="PasswordChecker.js"></script>
        <script>
            
            function check_password()
            {
                // the input password
                pw = document.getElementById("pw_input").value;
            
                // Class Password implements the checks
                var password = new PasswordChecker(pw);
    
                result_list = document.getElementById("result_list");
                
                // removes the list elements if exists
                while (result_list.firstChild != null)
                {
                    result_list.removeChild(result_list.firstChild);
                }
    
                // here we accumulate the overall strength
                // it starts at zero
                strength_accu = 0;
    
                // for each check of this password
                // a check has a label and a value if its checks out
                password.getChecks().forEach(
                    check =>
                    {
                        // create a list item
                        item = document.createElement("LI");
                        text = document.createTextNode(check.label);

                        // calculate color and strength
                        if(check.checksOut)
                        {
                            color = "green";
                            strength_accu++;
                        }
                        else
                            color = "red";

                        // set the color of our list item
                        item.style.color = color

                        // add the text to our item
                        item.appendChild(text);

                        // add our item to the list
                        result_list.appendChild(item);
                    }
                )
                    
            }
                </script>

    </head>
<body onload="check_password()">

    <input id="pw_input" oninput="check_password()"/>
    <p id="p_txt">
        Here you can check your password for stength. Please note that all calculation is done localy and all data will stay on your device.
    </p>
    
    <ul id="result_list"></ul>
</body>
</html>
